<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/favicon.ico"/><title>编译器</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Personal Knowledge Space"/><meta property="og:title" content="编译器"/><meta property="og:description" content="Personal Knowledge Space"/><meta property="og:url" content="https://Sherry-yanqi.github.io/Dendron-Website/./notes/qtrfzf049hbfnae914162x4/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="10/8/2023"/><meta property="article:modified_time" content="10/8/2023"/><link rel="canonical" href="https://Sherry-yanqi.github.io/Dendron-Website/./notes/qtrfzf049hbfnae914162x4/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/_next/static/css/8e7b7e4bce421c0a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8e7b7e4bce421c0a.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-3d209faeb64f2f97.js" defer=""></script><script src="/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/_next/static/chunks/main-104451f3d1a5c4bc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-9d8e0603730b15a3.js" defer=""></script><script src="/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/_next/static/SHThAyINttQJV9i85PdhJ/_buildManifest.js" defer=""></script><script src="/_next/static/SHThAyINttQJV9i85PdhJ/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="编译器">编译器<a aria-hidden="true" class="anchor-heading icon-link" href="#编译器"></a></h1>
<h1 id="gcc">GCC<a aria-hidden="true" class="anchor-heading icon-link" href="#gcc"></a></h1>
<p>GCC（GNU Compiler Collection）是一套有GNU开发的编程语言编译器，以GPL及LGPL许可证所发行的自由软件。GCC原名为GNU C 语言编译器，它原本只能处理C语言，随着技术的发展，GCC很快地得到扩展，变得可以处理C++，之后可以处理的语言扩展到Fortran、Pascal、Objective-C、Java等。</p>
<h1 id="llvm架构">LLVM架构<a aria-hidden="true" class="anchor-heading icon-link" href="#llvm架构"></a></h1>
<p><img src="/images/LLVM%E6%9E%B6%E6%9E%84%E5%9B%BE.webp"></p>
<ul>
<li>不同的前端后端使用统一的中间代码LLVM Intermediate Representation (LLVM IR)</li>
<li>如果需要支持一种新的编程语言，那么只需要实现一个新的前端</li>
<li>如果需要支持一种新的硬件设备，那么只需要实现一个新的后端</li>
<li>优化阶段是一个通用的阶段，它针对的是统一的LLVM IR，不论是支持新的编程语言，还是支持新的硬件设备，都不需要对优化阶段做修改</li>
<li>相比之下，GCC的前端和后端没分得太开，前端后端耦合在了一起。所以GCC为了支持一门新的语言，或者为了支持一个新的目标平台，就 变得特别困难</li>
<li>LLVM现在被作为实现各种静态和运行时编译语言的通用基础结构(GCC家族、Java、.NET、Python、Ruby、Scheme、Haskell、D等)</li>
</ul>
<h1 id="什么是clang">什么是Clang<a aria-hidden="true" class="anchor-heading icon-link" href="#什么是clang"></a></h1>
<p>LLVM项目的一个子项目，基于LLVM架构的C/C++/Objective-C编译器前端。
相比于GCC，Clang具有如下优点
编译速度快:在某些平台上，Clang的编译速度显著的快过GCC(Debug模式下编译OC速度比GGC快3倍)
占用内存小:Clang生成的AST所占用的内存是GCC的五分之一左右
模块化设计:Clang采用基于库的模块化设计，易于 IDE 集成及其他用途的重用
诊断信息可读性强:在编译过程中，Clang 创建并保留了大量详细的元数据 (metadata)，有利于调试和错误报告
设计清晰简单，容易理解，易于扩展增强</p>
<h1 id="clang和llvm">Clang和LLVM<a aria-hidden="true" class="anchor-heading icon-link" href="#clang和llvm"></a></h1>
<p><img src="/images/Clang%E5%92%8CLLVM.webp"></p>
<p>LLVM整体架构，前端用的是clang，广义的LLVM是指整个LLVM架构，一般狭义的LLVM指的是LLVM后端（包含代码优化和目标代码生成）。</p>
<p>源代码（c/c++）经过clang--> 中间代码(经过一系列的优化，优化用的是Pass) --> 机器码
CLang是一个由C++编写的编译器前端，能够编译C/C++/Objective等高级语言，属于LLVM的一部分，发布于BSD（自由软件中使用最广发的许可证之一）许可证下，其目的就是为了超越GCC。经过测试证明，Clang编译Objective-C代码的速度为GCC的3倍左右，同时它还能针对用户发生的编译错误准确地给出建议。</p>
<h1 id="clang和gcc的区别">Clang和GCC的区别<a aria-hidden="true" class="anchor-heading icon-link" href="#clang和gcc的区别"></a></h1>
<ul>
<li>Clang比GCC编译用的时间更短，包括预处理、语法分析、解析、语义分析、抽象语法树生成的时间。</li>
<li>Clang比GCC的内存占用更小。</li>
<li>Clang生成的中间产物比GCC更小。</li>
<li>Clang的错误提示比GCC更加友好。</li>
<li>Clang有静态分析，GCC没有。</li>
<li>Clang使用BSD许可证，GCC使用GPL许可证。</li>
<li>Clang从一开始就被设计为一个API，允许它被源代码分析工具和IDE集成。GCC被构建成一个单一的静态编译器，这使得它非常难以被作为API并集成到其他工具中。</li>
<li>GCC比Clang支持更多的语言，例如Java。</li>
<li>GCC比Clang支持更多的平台。</li>
<li>GCC比Clang更流行。</li>
</ul>
<hr>
<strong>Backlinks</strong>
<ul>
<li><a class="color-tag" style="--tag-color: #1ef876;" href="/notes/3i91cpobhjev7je13stn8d0">ROCm学习</a></li>
</ul></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#gcc" title="GCC">GCC</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#llvm架构" title="LLVM架构">LLVM架构</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#什么是clang" title="什么是Clang">什么是Clang</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#clang和llvm" title="Clang和LLVM">Clang和LLVM</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#clang和gcc的区别" title="Clang和GCC的区别">Clang和GCC的区别</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"qtrfzf049hbfnae914162x4","title":"编译器","desc":"","updated":1696757511287,"created":1696756191696,"custom":{},"fname":"tags.编译器","type":"note","vault":{"fsPath":".","selfContained":true,"name":"Dendron"},"contentHash":"2d1dcfefb35b08f727c163df93f41e77","links":[{"from":{"fname":"tags.ROCm学习","id":"3i91cpobhjev7je13stn8d0","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":29,"column":1,"offset":1369},"end":{"line":29,"column":5,"offset":1373},"indent":[]},"value":"tags.编译器"}],"anchors":{"gcc":{"type":"header","text":"GCC","value":"gcc","line":7,"column":0,"depth":1},"llvm架构":{"type":"header","text":"LLVM架构","value":"llvm架构","line":10,"column":0,"depth":1},"什么是clang":{"type":"header","text":"什么是Clang","value":"什么是clang","line":18,"column":0,"depth":1},"clang和llvm":{"type":"header","text":"Clang和LLVM","value":"clang和llvm","line":27,"column":0,"depth":1},"clang和gcc的区别":{"type":"header","text":"Clang和GCC的区别","value":"clang和gcc的区别","line":35,"column":0,"depth":1}},"children":[],"parent":"90k77c0ismmit0y8v4lmv1e","data":{}},"body":"\u003ch1 id=\"编译器\"\u003e编译器\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#编译器\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003ch1 id=\"gcc\"\u003eGCC\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#gcc\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003eGCC（GNU Compiler Collection）是一套有GNU开发的编程语言编译器，以GPL及LGPL许可证所发行的自由软件。GCC原名为GNU C 语言编译器，它原本只能处理C语言，随着技术的发展，GCC很快地得到扩展，变得可以处理C++，之后可以处理的语言扩展到Fortran、Pascal、Objective-C、Java等。\u003c/p\u003e\n\u003ch1 id=\"llvm架构\"\u003eLLVM架构\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#llvm架构\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003e\u003cimg src=\"/images/LLVM%E6%9E%B6%E6%9E%84%E5%9B%BE.webp\"\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e不同的前端后端使用统一的中间代码LLVM Intermediate Representation (LLVM IR)\u003c/li\u003e\n\u003cli\u003e如果需要支持一种新的编程语言，那么只需要实现一个新的前端\u003c/li\u003e\n\u003cli\u003e如果需要支持一种新的硬件设备，那么只需要实现一个新的后端\u003c/li\u003e\n\u003cli\u003e优化阶段是一个通用的阶段，它针对的是统一的LLVM IR，不论是支持新的编程语言，还是支持新的硬件设备，都不需要对优化阶段做修改\u003c/li\u003e\n\u003cli\u003e相比之下，GCC的前端和后端没分得太开，前端后端耦合在了一起。所以GCC为了支持一门新的语言，或者为了支持一个新的目标平台，就 变得特别困难\u003c/li\u003e\n\u003cli\u003eLLVM现在被作为实现各种静态和运行时编译语言的通用基础结构(GCC家族、Java、.NET、Python、Ruby、Scheme、Haskell、D等)\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"什么是clang\"\u003e什么是Clang\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#什么是clang\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003eLLVM项目的一个子项目，基于LLVM架构的C/C++/Objective-C编译器前端。\n相比于GCC，Clang具有如下优点\n编译速度快:在某些平台上，Clang的编译速度显著的快过GCC(Debug模式下编译OC速度比GGC快3倍)\n占用内存小:Clang生成的AST所占用的内存是GCC的五分之一左右\n模块化设计:Clang采用基于库的模块化设计，易于 IDE 集成及其他用途的重用\n诊断信息可读性强:在编译过程中，Clang 创建并保留了大量详细的元数据 (metadata)，有利于调试和错误报告\n设计清晰简单，容易理解，易于扩展增强\u003c/p\u003e\n\u003ch1 id=\"clang和llvm\"\u003eClang和LLVM\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#clang和llvm\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003e\u003cimg src=\"/images/Clang%E5%92%8CLLVM.webp\"\u003e\u003c/p\u003e\n\u003cp\u003eLLVM整体架构，前端用的是clang，广义的LLVM是指整个LLVM架构，一般狭义的LLVM指的是LLVM后端（包含代码优化和目标代码生成）。\u003c/p\u003e\n\u003cp\u003e源代码（c/c++）经过clang--\u003e 中间代码(经过一系列的优化，优化用的是Pass) --\u003e 机器码\nCLang是一个由C++编写的编译器前端，能够编译C/C++/Objective等高级语言，属于LLVM的一部分，发布于BSD（自由软件中使用最广发的许可证之一）许可证下，其目的就是为了超越GCC。经过测试证明，Clang编译Objective-C代码的速度为GCC的3倍左右，同时它还能针对用户发生的编译错误准确地给出建议。\u003c/p\u003e\n\u003ch1 id=\"clang和gcc的区别\"\u003eClang和GCC的区别\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#clang和gcc的区别\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003eClang比GCC编译用的时间更短，包括预处理、语法分析、解析、语义分析、抽象语法树生成的时间。\u003c/li\u003e\n\u003cli\u003eClang比GCC的内存占用更小。\u003c/li\u003e\n\u003cli\u003eClang生成的中间产物比GCC更小。\u003c/li\u003e\n\u003cli\u003eClang的错误提示比GCC更加友好。\u003c/li\u003e\n\u003cli\u003eClang有静态分析，GCC没有。\u003c/li\u003e\n\u003cli\u003eClang使用BSD许可证，GCC使用GPL许可证。\u003c/li\u003e\n\u003cli\u003eClang从一开始就被设计为一个API，允许它被源代码分析工具和IDE集成。GCC被构建成一个单一的静态编译器，这使得它非常难以被作为API并集成到其他工具中。\u003c/li\u003e\n\u003cli\u003eGCC比Clang支持更多的语言，例如Java。\u003c/li\u003e\n\u003cli\u003eGCC比Clang支持更多的平台。\u003c/li\u003e\n\u003cli\u003eGCC比Clang更流行。\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003cstrong\u003eBacklinks\u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca class=\"color-tag\" style=\"--tag-color: #1ef876;\" href=\"/notes/3i91cpobhjev7je13stn8d0\"\u003eROCm学习\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","noteIndex":{"id":"root","title":"root","desc":"","updated":1605266684036,"created":1595961348801,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":".","selfContained":true,"name":"Dendron"},"contentHash":"b49e7e13a0c91addc8ab9ef97080cf1e","links":[],"anchors":{},"children":["uxohjdz88o8hep8cr7hffz8","kl9mhirw795hadbnwlddcfi","0dedulbxl7totmeo56j36ao","c1bs7wsjfbhb0zipaywqv1","90k77c0ismmit0y8v4lmv1e"],"parent":null,"data":{},"body":"\nThis is the root for your Dendron vault.\n\nIf you decide to publish your entire vault, it will be your landing page. You are free to customize any part of this page except the frontmatter at the top, between the `---`.\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true,"enableSelfContainedVaults":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":".","selfContained":true,"name":"Dendron"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"task","dateFormat":"y.MM.dd","addBehavior":"asOwnDomain","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"taskCompleteStatus":["done","x"],"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"enableFullHierarchyNoteTitle":false,"enablePersistentHistory":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Dendron","description":"Personal Knowledge Space"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"search","siteUrl":"https://Sherry-yanqi.github.io/Dendron-Website/.","siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"qtrfzf049hbfnae914162x4"},"buildId":"SHThAyINttQJV9i85PdhJ","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>