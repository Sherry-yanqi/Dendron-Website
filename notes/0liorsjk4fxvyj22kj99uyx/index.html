<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/favicon.ico"/><title>工作说明</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Personal Knowledge Space"/><meta property="og:title" content="工作说明"/><meta property="og:description" content="Personal Knowledge Space"/><meta property="og:url" content="https://Sherry-yanqi.github.io/Dendron-Website/./notes/0liorsjk4fxvyj22kj99uyx/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="9/22/2023"/><meta property="article:modified_time" content="10/10/2023"/><link rel="canonical" href="https://Sherry-yanqi.github.io/Dendron-Website/./notes/0liorsjk4fxvyj22kj99uyx/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/_next/static/css/8e7b7e4bce421c0a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8e7b7e4bce421c0a.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-3d209faeb64f2f97.js" defer=""></script><script src="/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/_next/static/chunks/main-104451f3d1a5c4bc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-9d8e0603730b15a3.js" defer=""></script><script src="/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/_next/static/SHThAyINttQJV9i85PdhJ/_buildManifest.js" defer=""></script><script src="/_next/static/SHThAyINttQJV9i85PdhJ/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="工作说明">工作说明<a aria-hidden="true" class="anchor-heading icon-link" href="#工作说明"></a></h1>
<h2 id="环境">环境<a aria-hidden="true" class="anchor-heading icon-link" href="#环境"></a></h2>
<h2 id="目标">目标<a aria-hidden="true" class="anchor-heading icon-link" href="#目标"></a></h2>
<ul>
<li>搭一个rockml的环境，运行pytorch模型</li>
<li>在5.5服务器上运行gem5+rocm
<ul>
<li>搭建好http代理环境以及github下载环境</li>
<li>编译gem5</li>
<li>编译
<ol>
<li>Heterogeneous Compute Compiler (HCC)</li>
<li>Radeon Open Compute runtime (ROCr)</li>
<li>Radeon Open Compute thunk (ROCt)</li>
<li>HIP</li>
</ol>
</li>
<li>运行HIP_EXAMPLE 中的hello world</li>
</ul>
</li>
</ul>
<h2 id="安装">安装<a aria-hidden="true" class="anchor-heading icon-link" href="#安装"></a></h2>
<h3 id="注意">注意<a aria-hidden="true" class="anchor-heading icon-link" href="#注意"></a></h3>
<ul>
<li>
<p>GCN3只能工作在system-call emulation (SE) mode，In particular, the emulated GPU driver supports the necessary ioctl() commands it receives from the userspace code. The source for the emulated GPU driver can be found in:</p>
<ul>
<li>The GPU compute driver: src/gpu-compute/gpu_compute_driver.[hh|cc]</li>
<li>The HSA device driver: src/dev/hsa/hsa_driver.[hh|cc]</li>
</ul>
</li>
<li>
<p>The HSA driver code models the basic functionality for an HSA agent, which is any device that can be targeted by the HSA runtime and accepts Architected Query Language (AQL) packets. AQL packets are a standard format for all HSA agents, and are used primarily to initiate kernel launches on the GPU. The base HSADriver class holds a pointer to the HSA packet processor for the device, and defines the interface for any HSA device. An HSA agent does not have to be a GPU, it could be a generic accelerator, CPU, NIC, etc.
The GPUComputeDriver derives from HSADriver and is a device-specific implementation of an HSADriver. It provides the implementation for GPU-specific ioctl() calls.</p>
<p>  The src/dev/hsa/kfd_ioctl.h header must match the kfd_ioctl.h header that comes with ROCt. The emulated driver relies on that file to interpret the ioctl() codes the thunk uses.</p>
</li>
</ul>
<h3 id="安装选择">安装选择<a aria-hidden="true" class="anchor-heading icon-link" href="#安装选择"></a></h3>
<ul>
<li><strong>在用户目录下安装依赖项</strong>
<ul>
<li>zlib      v1.3.01 源码安装</li>
<li>sqlit3(需要在python安装前安装， 在python的configure命令，一定要添加-enable-loadable-sqlite-extensions，因为默认是不开启的)，v3.44.0 源码安装</li>
<li>python3， v3.6.15  源码安装
configure 时别忘了--enable-shared
--prefix=$HOME/tools --enable-loadable-sqlite-extensions </li>
<li>protobuf  v3.5.0  系统自带</li>
<li>m4        v1.4.18  源码安装</li>
<li>scons     v4.0.0  pip3安装，其他版本报错</li>
<li>openmpi   v4.1.5 源码安装（boost的图形库需要，故安装）</li>
<li>boost     v1.83.0    源码安装</li>
<li>gem5 v23.0.1.0</li>
</ul>
</li>
<li><strong> 选择ROCm version 4.0.0 </strong>
<ul>
<li>Heterogeneous Compute Compiler (HCC)</li>
<li>Radeon Open Compute runtime (ROCr)</li>
<li>Radeon Open Compute thunk (ROCt)</li>
<li>HIP</li>
</ul>
</li>
<li>pytorch v1.8.0
<ul>
<li>pip install torch -f <a href="https://download.pytorch.org/whl/rocm4.0.1/torch_stable.html">https://download.pytorch.org/whl/rocm4.0.1/torch_stable.html</a></li>
<li>pip install ninja</li>
<li>pip install 'git+<a href="https://github.com/pytorch/vision.git@v0.9.0&#x27;">https://github.com/pytorch/vision.git@v0.9.0'</a></li>
</ul>
</li>
</ul>
<h3 id="安装过程">安装过程<a aria-hidden="true" class="anchor-heading icon-link" href="#安装过程"></a></h3>
<ol>
<li>
<p>安装所需依赖</p>
</li>
<li>
<p>安装所需要的python第三方包，gem5根目录下有requirement.txt</p>
</li>
<li>
<p>gem5编译，编译（各个依赖版本）</p>
</li>
<li>
<p>安装<a href="/mesahttps://github.com/Mesa3D/mesa.git">MESA</a></p>
<ul>
<li>
<p>依赖macros:</p>
<pre><code>//注意把安装位置，设置一下环境变量
export ACLOCAL_PATH=$HOME/tools/share/aclocal
</code></pre>
</li>
<li>
<p><a href="https://gitlab.freedesktop.org/xorg/lib/libxshmfence/-/tree/master?ref_type=heads">https://gitlab.freedesktop.org/xorg/lib/libxshmfence/-/tree/master?ref_type=heads</a></p>
</li>
<li>
<p>pip install Mako</p>
</li>
</ul>
</li>
<li>
<p>安装llvm(git clone -b rocm-4.0.0 <a href="https://github.com/RadeonOpenCompute/llvm-project.git">https://github.com/RadeonOpenCompute/llvm-project.git</a>)</p>
</li>
<li>
<p>安装HIP（注意安装hip依赖，mesa-common-dev，clang，comgr，rocm-dkms）</p>
</li>
<li>
<p>下载hip-example，并调用其中的helloworld程序
运行命令</p>
</li>
</ol>
<pre class="language-shell"><code class="language-shell">build/GCN3_X86/gem5.opt configs/example/apu_se.py -n <span class="token number">3</span> -c ~/rocm-4.0.0/HIP-Examples/HIP-Examples-Applications/HelloWorld/HelloWorld
</code></pre>
<p>执行Hello world过程报错</p>
<ul>
<li>hip程序找不到libamd_comgr动态库
原因是apu_se.py文件中重新设置了动态库路径，故不包含libamd_comgr动态库
修改apu_se.py</li>
</ul>
<pre class="language-python"><code class="language-python">env <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'LD_LIBRARY_PATH=%s'</span> <span class="token operator">%</span> <span class="token string">':'</span><span class="token punctuation">.</span>join<span class="token punctuation">(</span><span class="token punctuation">[</span>
            os<span class="token punctuation">.</span>getenv<span class="token punctuation">(</span><span class="token string">'ROCM_PATH'</span><span class="token punctuation">,</span><span class="token string">'/opt/rocm'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'/lib'</span><span class="token punctuation">,</span>
            os<span class="token punctuation">.</span>getenv<span class="token punctuation">(</span><span class="token string">'HCC_HOME'</span><span class="token punctuation">,</span><span class="token string">'/opt/rocm/hcc'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'/lib'</span><span class="token punctuation">,</span>
            os<span class="token punctuation">.</span>getenv<span class="token punctuation">(</span><span class="token string">'HSA_PATH'</span><span class="token punctuation">,</span><span class="token string">'/opt/rocm/hsa'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'/lib'</span><span class="token punctuation">,</span>
            os<span class="token punctuation">.</span>getenv<span class="token punctuation">(</span><span class="token string">'HIP_PATH'</span><span class="token punctuation">,</span><span class="token string">'/opt/rocm/hip'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'/lib'</span><span class="token punctuation">,</span>
            os<span class="token punctuation">.</span>getenv<span class="token punctuation">(</span><span class="token string">'ROCM_PATH'</span><span class="token punctuation">,</span><span class="token string">'/opt/rocm'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'/libhsakmt/lib'</span><span class="token punctuation">,</span>
            os<span class="token punctuation">.</span>getenv<span class="token punctuation">(</span><span class="token string">'ROCM_PATH'</span><span class="token punctuation">,</span><span class="token string">'/opt/rocm'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'/miopen/lib'</span><span class="token punctuation">,</span>
            os<span class="token punctuation">.</span>getenv<span class="token punctuation">(</span><span class="token string">'ROCM_PATH'</span><span class="token punctuation">,</span><span class="token string">'/opt/rocm'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'/miopengemm/lib'</span><span class="token punctuation">,</span>
            os<span class="token punctuation">.</span>getenv<span class="token punctuation">(</span><span class="token string">'ROCM_PATH'</span><span class="token punctuation">,</span><span class="token string">'/opt/rocm'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'/hipblas/lib'</span><span class="token punctuation">,</span>
            os<span class="token punctuation">.</span>getenv<span class="token punctuation">(</span><span class="token string">'ROCM_PATH'</span><span class="token punctuation">,</span><span class="token string">'/opt/rocm'</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token string">'/rocblas/lib'</span><span class="token punctuation">,</span>
            <span class="token string">"/usr/lib/x86_64-linux-gnu"</span><span class="token punctuation">,</span>
            <span class="token string">"/home/lixianrui/tools/lib64"</span>
        <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">'HOME=%s'</span> <span class="token operator">%</span> os<span class="token punctuation">.</span>getenv<span class="token punctuation">(</span><span class="token string">'HOME'</span><span class="token punctuation">,</span><span class="token string">'/'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token string">"HSA_ENABLE_INTERRUPT=1"</span><span class="token punctuation">]</span>
</code></pre>
<ul>
<li>报错，fatal: syscall getdents64 (#217) unimplemented.
解决<a href="https://gem5-review.googlesource.com/c/public/gem5/+/46242"></a>
报错request to allocate mask for invalid number: Invalid argument
解决按照<a href="https://gem5-review.googlesource.com/c/public/gem5/+/46243"></a> 实现sched_getaffinity 系统调用</li>
<li>fatal: system.cpu3.CUs0 does not have any port named gmTokenPort。本周已经解决，查找到原因是gmTokenPort系统调用未实现，查找gem5的提交记录，从新版中找到实现，修改代码调试程序中进行对程序进行跟踪，解决bug。
错误解决<a href="https://gem5-review.googlesource.com/c/public/gem5/+/35096"></a></li>
<li>request to allocate mask for invalid number: Invalid argument
实现了sched_getaffinity 系统调用
附带着学习了gdb使用，并用gdb工具跟踪gem5 debug程序。</li>
<li>panic: Tried to read unmapped address 0x8
首先查到这个错误是在/src/x86下，故是发生在了gem5里面</li>
</ul>
<pre class="language-shell"><code class="language-shell">执行命令：build/GCN3_X86/gem5.opt configs/example/apu_se.py  -c ~/rocm-4.0.0/HIP-Examples-rocm-4.0.0/HIP-Examples-Applications/FloydWarshall/FloydWarshall
报错
warn: ignoring syscall get_mempolicy<span class="token punctuation">(</span><span class="token punctuation">..</span>.<span class="token punctuation">)</span>
panic: Tried to <span class="token builtin class-name">read</span> unmapped address 0x8.
PC: 0x7ffff8013e08, Instr:   CALL_NEAR_M <span class="token builtin class-name">:</span> ld   t1, DS:<span class="token punctuation">[</span>rbx<span class="token punctuation">]</span>
Memory Usage: <span class="token number">5724524</span> KBytes
执行命令：build/GCN3_X86/gem5.opt configs/example/apu_se.py  -c ~/rocm-4.0.0/HIP-Examples-rocm-4.0.0/HIP-Examples-Applications/HelloWorld/HelloWorld
报错
warn: ignoring syscall get_mempolicy<span class="token punctuation">(</span><span class="token punctuation">..</span>.<span class="token punctuation">)</span>
panic: Tried to <span class="token builtin class-name">read</span> unmapped address 0x8.
PC: 0x7ffff8013e08, Instr:   CALL_NEAR_M <span class="token builtin class-name">:</span> ld   t1, DS:<span class="token punctuation">[</span>rbx<span class="token punctuation">]</span>
执行命令：
build/GCN3_X86/gem5.opt configs/example/apu_se.py  -c ~/rocm-4.0.0/HIP-Examples-rocm-4.0.0/HIP-Examples-Applications/SimpleConvolution/SimpleConvolution
报错
warn: ignoring syscall get_mempolicy<span class="token punctuation">(</span><span class="token punctuation">..</span>.<span class="token punctuation">)</span>
panic: Tried to <span class="token builtin class-name">read</span> unmapped address 0x8.
PC: 0x7ffff8013e08, Instr:   CALL_NEAR_M <span class="token builtin class-name">:</span> ld   t1, DS:<span class="token punctuation">[</span>rbx<span class="token punctuation">]</span>
执行命令<span class="token variable">$build</span>/GCN3_X86/gem5.opt configs/example/apu_se.py  -c gem5-resources/src/gpu/square/bin/square
报错：warn: ignoring syscall get_mempolicy<span class="token punctuation">(</span><span class="token punctuation">..</span>.<span class="token punctuation">)</span>
info: Increasing stack size by one page.
warn: instruction <span class="token string">'fcomi'</span> unimplemented
panic: Tried to <span class="token builtin class-name">read</span> unmapped address 0x8.
PC: 0x7ffff8013e08, Instr:   CALL_NEAR_M <span class="token builtin class-name">:</span> ld   t1, DS:<span class="token punctuation">[</span>rbx<span class="token punctuation">]</span>
Memory Usage: <span class="token number">5741540</span> KBytes
</code></pre>
<p>根据warn: instruction 'fcomi' unimplemented查找有关提交，找到了<a href="https://gem5-review.googlesource.com/c/public/gem5/+/42443"></a>关于fcomi的相关提交，用strance记录gem5调用记录，发现在最后gem5确实有调用libstdc++，报错指令CALL_NEAR_M : ld   t1, DS:[rbx]定义在./src/arch/x86/isa/insts/general_purpose/control_transfer/call.py。猜测或许有关，比较玄学，结果证明无关
###资料列表
<a href="https://www.gem5.org/documentation/general_docs/gpu_models/GCN3">链接Documentation and Tutorials部分</a>
<a href="http://repo.radeon.com/rocm/archive/">rocm仓库</a></p>
<hr>
<strong>Backlinks</strong>
<ul>
<li><a href="/notes/0dedulbxl7totmeo56j36ao">Rocm</a></li>
</ul></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#环境" title="环境">环境</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#目标" title="目标">目标</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#安装" title="安装">安装</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#注意" title="注意">注意</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#安装选择" title="安装选择">安装选择</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#安装过程" title="安装过程">安装过程</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"0liorsjk4fxvyj22kj99uyx","title":"工作说明","desc":"","updated":1696909320884,"created":1695366403489,"custom":{},"fname":"tags.工作说明","type":"note","vault":{"fsPath":".","selfContained":true,"name":"Dendron"},"contentHash":"d4b2717c6dbf7c5777ca8dd5775f711c","links":[{"from":{"fname":"rocm","id":"0dedulbxl7totmeo56j36ao","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":1,"column":6,"offset":5},"indent":[]},"value":"tags.工作说明"}],"anchors":{"环境":{"type":"header","text":"环境","value":"环境","line":8,"column":0,"depth":2},"目标":{"type":"header","text":"目标","value":"目标","line":9,"column":0,"depth":2},"安装":{"type":"header","text":"安装","value":"安装","line":20,"column":0,"depth":2},"注意":{"type":"header","text":"注意","value":"注意","line":21,"column":0,"depth":3},"安装选择":{"type":"header","text":"安装选择","value":"安装选择","line":29,"column":0,"depth":3},"安装过程":{"type":"header","text":"安装过程","value":"安装过程","line":52,"column":0,"depth":3}},"children":[],"parent":"90k77c0ismmit0y8v4lmv1e","data":{}},"body":"\u003ch1 id=\"工作说明\"\u003e工作说明\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#工作说明\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003ch2 id=\"环境\"\u003e环境\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#环境\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch2 id=\"目标\"\u003e目标\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#目标\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e搭一个rockml的环境，运行pytorch模型\u003c/li\u003e\n\u003cli\u003e在5.5服务器上运行gem5+rocm\n\u003cul\u003e\n\u003cli\u003e搭建好http代理环境以及github下载环境\u003c/li\u003e\n\u003cli\u003e编译gem5\u003c/li\u003e\n\u003cli\u003e编译\n\u003col\u003e\n\u003cli\u003eHeterogeneous Compute Compiler (HCC)\u003c/li\u003e\n\u003cli\u003eRadeon Open Compute runtime (ROCr)\u003c/li\u003e\n\u003cli\u003eRadeon Open Compute thunk (ROCt)\u003c/li\u003e\n\u003cli\u003eHIP\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli\u003e运行HIP_EXAMPLE 中的hello world\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"安装\"\u003e安装\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#安装\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch3 id=\"注意\"\u003e注意\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#注意\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eGCN3只能工作在system-call emulation (SE) mode，In particular, the emulated GPU driver supports the necessary ioctl() commands it receives from the userspace code. The source for the emulated GPU driver can be found in:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eThe GPU compute driver: src/gpu-compute/gpu_compute_driver.[hh|cc]\u003c/li\u003e\n\u003cli\u003eThe HSA device driver: src/dev/hsa/hsa_driver.[hh|cc]\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eThe HSA driver code models the basic functionality for an HSA agent, which is any device that can be targeted by the HSA runtime and accepts Architected Query Language (AQL) packets. AQL packets are a standard format for all HSA agents, and are used primarily to initiate kernel launches on the GPU. The base HSADriver class holds a pointer to the HSA packet processor for the device, and defines the interface for any HSA device. An HSA agent does not have to be a GPU, it could be a generic accelerator, CPU, NIC, etc.\nThe GPUComputeDriver derives from HSADriver and is a device-specific implementation of an HSADriver. It provides the implementation for GPU-specific ioctl() calls.\u003c/p\u003e\n\u003cp\u003e  The src/dev/hsa/kfd_ioctl.h header must match the kfd_ioctl.h header that comes with ROCt. The emulated driver relies on that file to interpret the ioctl() codes the thunk uses.\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"安装选择\"\u003e安装选择\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#安装选择\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cstrong\u003e在用户目录下安装依赖项\u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003ezlib      v1.3.01 源码安装\u003c/li\u003e\n\u003cli\u003esqlit3(需要在python安装前安装， 在python的configure命令，一定要添加-enable-loadable-sqlite-extensions，因为默认是不开启的)，v3.44.0 源码安装\u003c/li\u003e\n\u003cli\u003epython3， v3.6.15  源码安装\nconfigure 时别忘了--enable-shared\n--prefix=$HOME/tools --enable-loadable-sqlite-extensions \u003c/li\u003e\n\u003cli\u003eprotobuf  v3.5.0  系统自带\u003c/li\u003e\n\u003cli\u003em4        v1.4.18  源码安装\u003c/li\u003e\n\u003cli\u003escons     v4.0.0  pip3安装，其他版本报错\u003c/li\u003e\n\u003cli\u003eopenmpi   v4.1.5 源码安装（boost的图形库需要，故安装）\u003c/li\u003e\n\u003cli\u003eboost     v1.83.0    源码安装\u003c/li\u003e\n\u003cli\u003egem5 v23.0.1.0\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003cstrong\u003e 选择ROCm version 4.0.0 \u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003eHeterogeneous Compute Compiler (HCC)\u003c/li\u003e\n\u003cli\u003eRadeon Open Compute runtime (ROCr)\u003c/li\u003e\n\u003cli\u003eRadeon Open Compute thunk (ROCt)\u003c/li\u003e\n\u003cli\u003eHIP\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003epytorch v1.8.0\n\u003cul\u003e\n\u003cli\u003epip install torch -f \u003ca href=\"https://download.pytorch.org/whl/rocm4.0.1/torch_stable.html\"\u003ehttps://download.pytorch.org/whl/rocm4.0.1/torch_stable.html\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003epip install ninja\u003c/li\u003e\n\u003cli\u003epip install 'git+\u003ca href=\"https://github.com/pytorch/vision.git@v0.9.0\u0026#x27;\"\u003ehttps://github.com/pytorch/vision.git@v0.9.0'\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"安装过程\"\u003e安装过程\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#安装过程\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e安装所需依赖\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e安装所需要的python第三方包，gem5根目录下有requirement.txt\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003egem5编译，编译（各个依赖版本）\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e安装\u003ca href=\"/mesahttps://github.com/Mesa3D/mesa.git\"\u003eMESA\u003c/a\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003e依赖macros:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e//注意把安装位置，设置一下环境变量\nexport ACLOCAL_PATH=$HOME/tools/share/aclocal\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003ca href=\"https://gitlab.freedesktop.org/xorg/lib/libxshmfence/-/tree/master?ref_type=heads\"\u003ehttps://gitlab.freedesktop.org/xorg/lib/libxshmfence/-/tree/master?ref_type=heads\u003c/a\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003epip install Mako\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e安装llvm(git clone -b rocm-4.0.0 \u003ca href=\"https://github.com/RadeonOpenCompute/llvm-project.git\"\u003ehttps://github.com/RadeonOpenCompute/llvm-project.git\u003c/a\u003e)\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e安装HIP（注意安装hip依赖，mesa-common-dev，clang，comgr，rocm-dkms）\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e下载hip-example，并调用其中的helloworld程序\n运行命令\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cpre class=\"language-shell\"\u003e\u003ccode class=\"language-shell\"\u003ebuild/GCN3_X86/gem5.opt configs/example/apu_se.py -n \u003cspan class=\"token number\"\u003e3\u003c/span\u003e -c ~/rocm-4.0.0/HIP-Examples/HIP-Examples-Applications/HelloWorld/HelloWorld\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e执行Hello world过程报错\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ehip程序找不到libamd_comgr动态库\n原因是apu_se.py文件中重新设置了动态库路径，故不包含libamd_comgr动态库\n修改apu_se.py\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre class=\"language-python\"\u003e\u003ccode class=\"language-python\"\u003eenv \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token string\"\u003e'LD_LIBRARY_PATH=%s'\u003c/span\u003e \u003cspan class=\"token operator\"\u003e%\u003c/span\u003e \u003cspan class=\"token string\"\u003e':'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ejoin\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\n            os\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003egetenv\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'ROCM_PATH'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\u003cspan class=\"token string\"\u003e'/opt/rocm'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token operator\"\u003e+\u003c/span\u003e\u003cspan class=\"token string\"\u003e'/lib'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            os\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003egetenv\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'HCC_HOME'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\u003cspan class=\"token string\"\u003e'/opt/rocm/hcc'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token operator\"\u003e+\u003c/span\u003e\u003cspan class=\"token string\"\u003e'/lib'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            os\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003egetenv\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'HSA_PATH'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\u003cspan class=\"token string\"\u003e'/opt/rocm/hsa'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token operator\"\u003e+\u003c/span\u003e\u003cspan class=\"token string\"\u003e'/lib'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            os\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003egetenv\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'HIP_PATH'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\u003cspan class=\"token string\"\u003e'/opt/rocm/hip'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token operator\"\u003e+\u003c/span\u003e\u003cspan class=\"token string\"\u003e'/lib'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            os\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003egetenv\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'ROCM_PATH'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\u003cspan class=\"token string\"\u003e'/opt/rocm'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token operator\"\u003e+\u003c/span\u003e\u003cspan class=\"token string\"\u003e'/libhsakmt/lib'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            os\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003egetenv\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'ROCM_PATH'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\u003cspan class=\"token string\"\u003e'/opt/rocm'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token operator\"\u003e+\u003c/span\u003e\u003cspan class=\"token string\"\u003e'/miopen/lib'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            os\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003egetenv\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'ROCM_PATH'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\u003cspan class=\"token string\"\u003e'/opt/rocm'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token operator\"\u003e+\u003c/span\u003e\u003cspan class=\"token string\"\u003e'/miopengemm/lib'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            os\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003egetenv\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'ROCM_PATH'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\u003cspan class=\"token string\"\u003e'/opt/rocm'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token operator\"\u003e+\u003c/span\u003e\u003cspan class=\"token string\"\u003e'/hipblas/lib'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            os\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003egetenv\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'ROCM_PATH'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\u003cspan class=\"token string\"\u003e'/opt/rocm'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token operator\"\u003e+\u003c/span\u003e\u003cspan class=\"token string\"\u003e'/rocblas/lib'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token string\"\u003e\"/usr/lib/x86_64-linux-gnu\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n            \u003cspan class=\"token string\"\u003e\"/home/lixianrui/tools/lib64\"\u003c/span\u003e\n        \u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"token string\"\u003e'HOME=%s'\u003c/span\u003e \u003cspan class=\"token operator\"\u003e%\u003c/span\u003e os\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003egetenv\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e'HOME'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\u003cspan class=\"token string\"\u003e'/'\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n        \u003cspan class=\"token string\"\u003e\"HSA_ENABLE_INTERRUPT=1\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cul\u003e\n\u003cli\u003e报错，fatal: syscall getdents64 (#217) unimplemented.\n解决\u003ca href=\"https://gem5-review.googlesource.com/c/public/gem5/+/46242\"\u003e\u003c/a\u003e\n报错request to allocate mask for invalid number: Invalid argument\n解决按照\u003ca href=\"https://gem5-review.googlesource.com/c/public/gem5/+/46243\"\u003e\u003c/a\u003e 实现sched_getaffinity 系统调用\u003c/li\u003e\n\u003cli\u003efatal: system.cpu3.CUs0 does not have any port named gmTokenPort。本周已经解决，查找到原因是gmTokenPort系统调用未实现，查找gem5的提交记录，从新版中找到实现，修改代码调试程序中进行对程序进行跟踪，解决bug。\n错误解决\u003ca href=\"https://gem5-review.googlesource.com/c/public/gem5/+/35096\"\u003e\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003erequest to allocate mask for invalid number: Invalid argument\n实现了sched_getaffinity 系统调用\n附带着学习了gdb使用，并用gdb工具跟踪gem5 debug程序。\u003c/li\u003e\n\u003cli\u003epanic: Tried to read unmapped address 0x8\n首先查到这个错误是在/src/x86下，故是发生在了gem5里面\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre class=\"language-shell\"\u003e\u003ccode class=\"language-shell\"\u003e执行命令：build/GCN3_X86/gem5.opt configs/example/apu_se.py  -c ~/rocm-4.0.0/HIP-Examples-rocm-4.0.0/HIP-Examples-Applications/FloydWarshall/FloydWarshall\n报错\nwarn: ignoring syscall get_mempolicy\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e..\u003c/span\u003e.\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\npanic: Tried to \u003cspan class=\"token builtin class-name\"\u003eread\u003c/span\u003e unmapped address 0x8.\nPC: 0x7ffff8013e08, Instr:   CALL_NEAR_M \u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e ld   t1, DS:\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003erbx\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\nMemory Usage: \u003cspan class=\"token number\"\u003e5724524\u003c/span\u003e KBytes\n执行命令：build/GCN3_X86/gem5.opt configs/example/apu_se.py  -c ~/rocm-4.0.0/HIP-Examples-rocm-4.0.0/HIP-Examples-Applications/HelloWorld/HelloWorld\n报错\nwarn: ignoring syscall get_mempolicy\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e..\u003c/span\u003e.\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\npanic: Tried to \u003cspan class=\"token builtin class-name\"\u003eread\u003c/span\u003e unmapped address 0x8.\nPC: 0x7ffff8013e08, Instr:   CALL_NEAR_M \u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e ld   t1, DS:\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003erbx\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n执行命令：\nbuild/GCN3_X86/gem5.opt configs/example/apu_se.py  -c ~/rocm-4.0.0/HIP-Examples-rocm-4.0.0/HIP-Examples-Applications/SimpleConvolution/SimpleConvolution\n报错\nwarn: ignoring syscall get_mempolicy\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e..\u003c/span\u003e.\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\npanic: Tried to \u003cspan class=\"token builtin class-name\"\u003eread\u003c/span\u003e unmapped address 0x8.\nPC: 0x7ffff8013e08, Instr:   CALL_NEAR_M \u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e ld   t1, DS:\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003erbx\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n执行命令\u003cspan class=\"token variable\"\u003e$build\u003c/span\u003e/GCN3_X86/gem5.opt configs/example/apu_se.py  -c gem5-resources/src/gpu/square/bin/square\n报错：warn: ignoring syscall get_mempolicy\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e..\u003c/span\u003e.\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\ninfo: Increasing stack size by one page.\nwarn: instruction \u003cspan class=\"token string\"\u003e'fcomi'\u003c/span\u003e unimplemented\npanic: Tried to \u003cspan class=\"token builtin class-name\"\u003eread\u003c/span\u003e unmapped address 0x8.\nPC: 0x7ffff8013e08, Instr:   CALL_NEAR_M \u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e ld   t1, DS:\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003erbx\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\nMemory Usage: \u003cspan class=\"token number\"\u003e5741540\u003c/span\u003e KBytes\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e根据warn: instruction 'fcomi' unimplemented查找有关提交，找到了\u003ca href=\"https://gem5-review.googlesource.com/c/public/gem5/+/42443\"\u003e\u003c/a\u003e关于fcomi的相关提交，用strance记录gem5调用记录，发现在最后gem5确实有调用libstdc++，报错指令CALL_NEAR_M : ld   t1, DS:[rbx]定义在./src/arch/x86/isa/insts/general_purpose/control_transfer/call.py。猜测或许有关，比较玄学，结果证明无关\n###资料列表\n\u003ca href=\"https://www.gem5.org/documentation/general_docs/gpu_models/GCN3\"\u003e链接Documentation and Tutorials部分\u003c/a\u003e\n\u003ca href=\"http://repo.radeon.com/rocm/archive/\"\u003erocm仓库\u003c/a\u003e\u003c/p\u003e\n\u003chr\u003e\n\u003cstrong\u003eBacklinks\u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"/notes/0dedulbxl7totmeo56j36ao\"\u003eRocm\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","noteIndex":{"id":"root","title":"root","desc":"","updated":1605266684036,"created":1595961348801,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":".","selfContained":true,"name":"Dendron"},"contentHash":"b49e7e13a0c91addc8ab9ef97080cf1e","links":[],"anchors":{},"children":["uxohjdz88o8hep8cr7hffz8","kl9mhirw795hadbnwlddcfi","0dedulbxl7totmeo56j36ao","c1bs7wsjfbhb0zipaywqv1","90k77c0ismmit0y8v4lmv1e"],"parent":null,"data":{},"body":"\nThis is the root for your Dendron vault.\n\nIf you decide to publish your entire vault, it will be your landing page. You are free to customize any part of this page except the frontmatter at the top, between the `---`.\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true,"enableSelfContainedVaults":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":".","selfContained":true,"name":"Dendron"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"task","dateFormat":"y.MM.dd","addBehavior":"asOwnDomain","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"taskCompleteStatus":["done","x"],"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"enableFullHierarchyNoteTitle":false,"enablePersistentHistory":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Dendron","description":"Personal Knowledge Space"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"search","siteUrl":"https://Sherry-yanqi.github.io/Dendron-Website/.","siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"0liorsjk4fxvyj22kj99uyx"},"buildId":"SHThAyINttQJV9i85PdhJ","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>