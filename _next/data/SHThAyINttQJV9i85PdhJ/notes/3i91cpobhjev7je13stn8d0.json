{"pageProps":{"note":{"id":"3i91cpobhjev7je13stn8d0","title":"ROCm学习","desc":"","updated":1696769251535,"created":1695367080849,"custom":{},"fname":"tags.ROCm学习","type":"note","vault":{"fsPath":".","selfContained":true,"name":"Dendron"},"contentHash":"5f93d1f8dbf1730c63a42bb364ccd010","links":[{"type":"wiki","from":{"fname":"tags.ROCm学习","id":"3i91cpobhjev7je13stn8d0","vaultName":"Dendron"},"value":"tags.编译器","alias":"#编译器","position":{"start":{"line":29,"column":1,"offset":1369},"end":{"line":29,"column":5,"offset":1373},"indent":[]},"xvault":false,"to":{"fname":"tags.编译器"}},{"from":{"fname":"rocm","id":"0dedulbxl7totmeo56j36ao","vaultName":"Dendron"},"type":"backlink","position":{"start":{"line":2,"column":1,"offset":6},"end":{"line":2,"column":8,"offset":13},"indent":[]},"value":"tags.ROCm学习"}],"anchors":{"rocm简介":{"type":"header","text":"ROCm简介","value":"rocm简介","line":7,"column":0,"depth":1},"名词解释":{"type":"header","text":"名词解释","value":"名词解释","line":9,"column":0,"depth":2},"miopen":{"type":"header","text":"MIOpen","value":"miopen","line":10,"column":0,"depth":3},"hip":{"type":"header","text":"HIP","value":"hip","line":12,"column":0,"depth":3},"hsa":{"type":"header","text":"HSA","value":"hsa","line":14,"column":0,"depth":3},"gcn":{"type":"header","text":"GCN","value":"gcn","line":16,"column":0,"depth":3},"hip-clang":{"type":"header","text":"hip-clang","value":"hip-clang","line":18,"column":0,"depth":3},"aomp-amd-openmp-compiler":{"type":"header","text":"AOMP (AMD OpenMP Compiler)","value":"aomp-amd-openmp-compiler","line":26,"column":0,"depth":3},"opencl":{"type":"header","text":"OpenCL","value":"opencl","line":29,"column":0,"depth":3},"rocm-和-cuda对比":{"type":"header","text":"ROCm 和 CUDA对比","value":"rocm-和-cuda对比","line":39,"column":0,"depth":1}},"children":[],"parent":"90k77c0ismmit0y8v4lmv1e","data":{}},"body":"<h1 id=\"rocm学习\">ROCm学习<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#rocm学习\"></a></h1>\n<h1 id=\"rocm简介\">ROCm简介<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#rocm简介\"></a></h1>\n<p>ROCm(RadeonOpenCompute)是一个开源软件堆栈，主要由开源软件(OSS)组成，设计用于图形处理单元(GPU)计算。ROCm由一组驱动程序、开发工具和api组成，支持从低级内核到最终用户应用程序的GPU编程。使用ROCm，您可以自定义GPU软件以满足您的特定需求。您可以在免费、开源、集成和安全的软件生态系统中开发、协作、测试和部署您的应用程序。</p>\n<h2 id=\"名词解释\">名词解释<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#名词解释\"></a></h2>\n<h3 id=\"miopen\">MIOpen<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#miopen\"></a></h3>\n<p>AMD高性能机器学习原语库（AMD's library for high performance machine learning primitives），MIOpen支持两种编程模型HIP和OpenCL，对标cudann</p>\n<h3 id=\"hip\">HIP<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#hip\"></a></h3>\n<p>HIP：HIP是C++运行环境的API；一种kenerl语言，可用于编写可移植性程序，无关于硬件显卡种类</p>\n<h3 id=\"hsa\">HSA<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#hsa\"></a></h3>\n<p>HSA——Heterogeneous system architecture，可以简单理解为硬件上的一层抽象。 AMD 等为支持 CPU+GPU 混合计算生态而成立了非赢利组织 HSA 基金，提供 runtime 和架构 API 标准。现成员包括 AMD、三星、高通、ARM、TI、Imagination、MTK等。</p>\n<h3 id=\"gcn\">GCN<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#gcn\"></a></h3>\n<p>GCN——Graphics Core Next，是 AMD 11年推出的全新架构，以区别于之前基于基于 VLIW （超长指令字）的架构。由于现在所有 AMD GPU 都建于 GCN 架构，失去 ”next“ 的对象，因此，GCN 可以简单理解为 AMD GPU 架构</p>\n<h3 id=\"hip-clang\">hip-clang<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#hip-clang\"></a></h3>\n<p>在 ROCM v3.5 版本之前使用的编译器是 HCC，在之后的版本中被弃用，并且引入了 HIP-Clang 编译器来编译 HIP 程序。AMD 公司逐渐不去使用 HCC 编译器了，转而去研发 HIP 和 支持异构计算的其他语言，现在对于 HCC 不会再去发展新的特性了，也不会去维护了。</p>\n<ul>\n<li>编译HIP代码</li>\n<li>hcc是clang的一种fork</li>\n<li>It understands HIP and emits AMDGCN in the resulting\nbinary</li>\n<li>hipcc -> hcc (clang) -> amdgcn</li>\n<li>All the x86 pieces are dealt with in the same way</li>\n</ul>\n<h3 id=\"aomp-amd-openmp-compiler\">AOMP (AMD OpenMP Compiler)<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#aomp-amd-openmp-compiler\"></a></h3>\n<ul>\n<li>Compiles C/C++ code with OpenMP “target” pragmas</li>\n<li>Links with libomptarget to produce a binary that can offload work to the GPU</li>\n</ul>\n<h3 id=\"opencl\">OpenCL<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#opencl\"></a></h3>\n<p>Khronos Industry Standard accelerator language </p>\n<p>在实际应用中，GCN架构的AMD显卡通常符合HSA标准，这意味着它们能够更好地与其他HSA兼容的处理器（如AMD CPU）协同工作，共享内存和任务调度，从而提高整体性能。</p>\n<p><a class=\"color-tag\" style=\"--tag-color: #ab1239;\" href=\"/notes/qtrfzf049hbfnae914162x4\">#编译器</a>\nROCM相当于是HSA的一种实现\nGCN3是GPU的接口\n<img src=\"/images/ROCM_STACK.png\"></p>\n<h1 id=\"rocm-和-cuda对比\">ROCm 和 CUDA对比<a aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#rocm-和-cuda对比\"></a></h1>\n<p>A卡上编程模型使用的是HIP或者OpenCL，而运行环境是ROCm\nN卡上，编程模型是CUDA，运行环境也是CUDA\n<img src=\"/image.png\" alt=\"Alt text\">\n<img src=\"https://img-blog.csdnimg.cn/img_convert/c0467c6deeeba471e95614c8056c07c4.png\" alt=\"ROCm组件图\"></p>\n<p><img src=\"/images/ROCm%E5%92%8CCUDA%E5%AF%B9%E6%AF%94.png\" alt=\"ROCm和CUDA对比\">\n<img src=\"https://img-blog.csdnimg.cn/565e5712981b461e8dda29a7c67687ca.png\">\n<img src=\"/image-1.png\" alt=\"Alt text\">\n<a href=\"https://rocm.docs.amd.com/projects/HIP/en/latest/developer_guide/build.html\">源码编译hip</a>\n<img src=\"https://img-blog.csdnimg.cn/d6a07744f4554ae68c85bbf0c27bb521.png\" alt=\"Important features include the following\">\nrocFFT：快速傅里叶变换库，用于加速频域计算任务。\nrocBLAS：基本线性代数子程序库，用于加速矩阵计算任务。\nrocRAND：随机数生成库，用于生成随机数序列。\nrocSPARSE：稀疏矩阵计算库，用于加速稀疏矩阵计算任务。</p>\n<hr>\n<strong>Backlinks</strong>\n<ul>\n<li><a href=\"/notes/0dedulbxl7totmeo56j36ao\">Rocm</a></li>\n</ul>","noteIndex":{"id":"root","title":"root","desc":"","updated":1605266684036,"created":1595961348801,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":".","selfContained":true,"name":"Dendron"},"contentHash":"b49e7e13a0c91addc8ab9ef97080cf1e","links":[],"anchors":{},"children":["uxohjdz88o8hep8cr7hffz8","kl9mhirw795hadbnwlddcfi","0dedulbxl7totmeo56j36ao","c1bs7wsjfbhb0zipaywqv1","90k77c0ismmit0y8v4lmv1e"],"parent":null,"data":{},"body":"\nThis is the root for your Dendron vault.\n\nIf you decide to publish your entire vault, it will be your landing page. You are free to customize any part of this page except the frontmatter at the top, between the `---`.\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true,"enableSelfContainedVaults":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":true,"vaultSelectionModeOnCreate":"smart","leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2}},"randomNote":{},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"vaults":[{"fsPath":".","selfContained":true,"name":"Dendron"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"task":{"name":"task","dateFormat":"y.MM.dd","addBehavior":"asOwnDomain","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"taskCompleteStatus":["done","x"],"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"enableUserTags":true,"enableHashTags":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":false,"enableEditorDecorations":true,"maxPreviewsCached":10,"maxNoteLength":204800,"enableFullHierarchyNoteTitle":false,"enablePersistentHistory":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Dendron","description":"Personal Knowledge Space"},"github":{"enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"main","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"search","siteUrl":"https://Sherry-yanqi.github.io/Dendron-Website/.","siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true}